<!DOCTYPE html>
<html lang="en">
  <link rel="stylesheet" href="style.css" /> 
  <script src="script.js"></script>



  <button class="tablink" onclick="openPage('Home', this, '#1D7DDE')" id="defaultOpen">Home</button>
  <button class="tablink" onclick="openPage('Chat', this, '#1D7DDE')">Ai Chat</button>
  <button class="tablink" onclick="openPage('Forum', this, '#1D7DDE')">Anonymous Forum</button>
  <button class="tablink" onclick="openPage('Stress', this, '#1D7DDE')">Stress Activites</button>



<div id="Home" class="tabcontent">
  <h1 style="color: white; text-align:center;">Welcome to the Mental Health Finder</h1>
  <p style="color: #eee; text-align:center; max-width: 600px; margin: 0 auto;">
    Your safe space to connect, share, and find support.  
    Choose a section below to get started.
  </p>

  <div class="tip-box">
    <h3>Current Tip</h3>
    <p id="dailyTip"></p>
    <script>
      const tips = [
        "Take a deep breath. Inhale for 4 seconds, hold for 4, exhale for 6.",
        "Go for a short walk and notice the sounds around you.",
        "Write down three things you're grateful for today.",
        "Stretch your arms above your head and roll your shoulders back.",
        "Drink a glass of water, hydration can improve mood and focus.",
        "Send a kind message to someone you care about.",
        "Spend 5 minutes sitting quietly, noticing your breath.",
        "Listen to your favorite song and really focus on the music.",
        "Write down one small goal and take the first step toward it.",
        "Step outside and get a little sunlight if you can.",
        "Declutter one small area of your room or desk.",
        "Try a grounding exercise, Name 5 things you see, 4 you touch, 3 you hear, 2 you smell, 1 you taste.",
        "Practice saying something encouraging to yourself.",
        "Turn off notifications for 30 minutes and enjoy the quiet.",
        "Read a few pages of a book or article you enjoy.",
        "Do 10 slow neck rolls to release tension.",
        "Take 5 slow breaths and notice how your chest rises and falls.",
        "Stand up and shake out your arms and legs for a minute.",
        "Close your eyes and picture a peaceful place.",
        "Smile! even a small smile can improve your mood.",
        "Try writing your thoughts in a journal for 5 minutes.",
        "Spend a moment appreciating something simple, like the sky or your coffee.",
        "Limit screen time before bed to help with better sleep.",
        "If you feel overwhelmed, break tasks into tiny steps.",
        "Celebrate a small win from today, even if it’s just getting up.",
        "Put on a calming playlist or nature sounds.",
        "Practice progressive relaxation, tense and relax each muscle group.",
        "Do one act of kindness, big or small.",
        "Remind yourself, It’s okay to rest. ",
        "Think of one thing you’re looking forward to, no matter how small."
      ];
      document.getElementById("dailyTip").innerText = tips[Math.floor(Math.random() * tips.length)];
    </script>
  </div>

  <div class="about-box">
    <h3>About This Website</h3>
    <p>
      Mental Health Finder is designed to give you a supportive space where you can 
      share experiences, connect anonymously, and practice self care.  
      <br><br>
      It is not a replacement for professional help. If you ever feel like 
      you may harm yourself or are in crisis, please reach out to local or national emergency 
      services or a trusted professional immediately.
    </p>
  </div>

  <div class="resources-box">
    <h3>Mental Health Professional Resources</h3>
      <p>
        If you’re struggling, please know that help is available.  
        These resources can connect you with trained professionals:
      </p>
      <ul>
        <li><b>United States/Canada:</b> Call or text <b>988</b> for the Suicide & Crisis Lifeline</li>
        <li><b>UK:</b> Call <b>116 123</b> for Samaritans (free, 24/7)</li>
        <li><b>Australia:</b> Call <b>13 11 14</b> for Lifeline</li>
        <li><b>Other countries:</b> Visit <a href="https://findahelpline.com" target="_blank">findahelpline.com</a></li>
      </ul>
  </div>
</div>


<div id="Chat" class="tabcontent">

<body>
  <h1>Ask me a question</h1>
  <input type="text" id="user-input">
  <button id="fetch-data">Submit</button>
  <pre id="result"></pre>


  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script type="module">

    async function fetchCompletion(userMessage) {
      const apiKey = "open api key"; 
      const url = 'https://api.openai.com/v1/chat/completions';
      const headers = {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      };
      const data = {
        model: "gpt-4o",
        messages: [
          { role: 'system', content: 'You talking to someone who is seeking mental health support.' },
          { role: 'user', content: userMessage }
        ]
      };

      try {
        const response = await axios.post(url, data, { headers });
        console.log(response.data)
        const result = response.data.choices[0].message.content;
        resultElement.textContent = result;
      } catch (error) {
        console.error("Error fetching data:", error);
        resultElement.textContent = "Error fetching data. Check console for details.";
      }
    }

    const userInputElement = document.getElementById('user-input');
    const fetchDataButton = document.getElementById('fetch-data');
    const resultElement = document.getElementById('result');

    fetchDataButton.addEventListener('click', () => {
      const userInput = userInputElement.value;
      fetchCompletion(userInput);
    });

    
  </script>
</body>
</html>
</div>


<div id="Forum" class="tabcontent">
  <h3>Anonymous Forum</h3>
  <button onclick="resetForum()" style="background:red; color:white; margin:10px 0;">Reset Forum</button>


  <input id="newTopic" placeholder="Start a new topic...">
  <button onclick="addTopic()">Post Topic</button>

  <h3>Topics</h3>
  <div id="topics"></div>

  <script>

  let topics = JSON.parse(localStorage.getItem("topics")) || [];
  const DELETE_PASSWORD = "589"; 

  function saveTopics() {
    localStorage.setItem("topics", JSON.stringify(topics));
  }

  function addTopic() {
    const title = document.getElementById("newTopic").value.trim();
    if (!title) return;
    topics.push({ id: Date.now(), title, replies: [] });
    saveTopics();
    document.getElementById("newTopic").value = "";
    renderTopics();
  }

  function addReply(topicId) {
    const replyInput = document.getElementById("reply-" + topicId);
    const text = replyInput.value.trim();
    if (!text) return;

    const topic = topics.find(t => t.id === topicId);
    const replyNumber = topic.replies.length + 1;
    const replyText = `re:anon#${replyNumber} - ${text}`;

    topic.replies.push({ text: replyText, createdAt: new Date().toLocaleString() });
    saveTopics();
    replyInput.value = "";
    renderTopics();
  }

  function deleteTopic(topicId) {
    const input = prompt("Enter the forum admin password to delete this post:");
    if (input === null) return;
    if (input !== DELETE_PASSWORD) {
      alert("Incorrect password. Post not deleted.");
      return;
    }

    topics = topics.filter(t => t.id !== topicId);
    saveTopics();
    renderTopics();
  }

  function resetForum() {
    const input = prompt("Enter the forum admin password to reset ALL topics:");
    if (input === null) return;
    if (input !== DELETE_PASSWORD) {
      alert("Incorrect password. Forum not reset.");
      return;
    }

    if (confirm("Are you sure you want to reset the forum? This will delete all topics and replies.")) {
      localStorage.removeItem("topics");
      topics = [];
      renderTopics();
    }
  }

  function renderTopics() {
    const container = document.getElementById("topics");
    container.innerHTML = "";
    topics.forEach(t => {
      const div = document.createElement("div");
      div.className = "topic";
      div.innerHTML = `
        <b>${t.title}</b>
        <button class="deleteBtn" onclick="deleteTopic(${t.id})"> Delete</button>
        <div>
          <input id="reply-${t.id}" placeholder="Write a reply...">
          <button onclick="addReply(${t.id})">Reply</button>
        </div>
        <div>
          ${t.replies.map(r => `<div class="reply">${r.text} <small>(${r.createdAt})</small></div>`).join("")}
        </div>
      `;
      container.appendChild(div);
    });
  }

  renderTopics();
</script>


</div>


<div id="Stress" class="tabcontent">
  <h3>Stress Activities</h3>
  <p style="color:white;">Pop the bubbles to relax</p>
  <div id="bubbleGame"></div>
  <button onclick="startBubbles()" style="margin-top:10px;">Start Again</button>

</div>

